<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title> Miscellaneous DGD Topics </title>
  </head>

  <body text="#000000" bgcolor="#DDDDDD" link="#0000EF" vlink="#51188E"
	alink="#FF0000">
    <h1> Miscellaneous DGD Topics </h1>

    <font size="4">

    <ul>
      <li> <a href="#Websites">
	  What other DGD web pages are out there?
	</a></li>
      <li> <a href="#NewFeatures">
	  What new features is DGD adding in the experimental branch?
	</a> </li>
      <li> <a href="#Pike"> The Pike language and how it relates to LPC
	  and DGD </a> </li>
      <li> <a href="#DGDUnsupported">
	  What doesn't DGD support?  Why not?
	</a> </li>
      <li> <a href="#SkotosArchitecture">
	  Footnote:  the Skotos architecture -- a MUDLib and utilities
	  based on DGD
	</a> </li>
    </ul>

    <h2> Low-level docs </h2>
    <ul>
      <li> <a href="http://www.xs4all.nl/~dark/dgd/dumpfile-format.txt">
	  Richard Braakman's DGD 1.1 Dumpfile Format Documentation </a> </li>
    </ul>

    <hr> </hr>

    <a name="WebSites">
      <h2> What other DGD Web Sites are Out There? </h2>

      <ul>
	<li>The <a href="http://www.dworkin.nl/dgd/">official one</a>, of
	  course.</li>
	<li>A <a href="http://dgd.is-here.com/dgd/faq/">FAQ</a>,
	  as you'd expect.</li>

	<li><a href="http://www.mars.org/home/rob/dgd.html">Rob's</a>
	  page on mars.org which links
	  <a href="http://www.mars.org/home/rob/proj/lpmoo/">LPMOO</a>
	  stuff.  The main page may be directed back to this one
	  soon. </li>

	<li>Some outdated <a href="http://dgd.is-here.com/dgd/kfuns/">
	    Kernel Function documentation</a></li>
	<li>Erlend Simonsen's
	  <a href="http://home.online.no/~erlesimo/gurbalib.html">
	    GurbaLib</a> page</li>
	<li>Mikael eLeMeL Lind's
	  <a href="http://www.mtek.chalmers.se/~z94lind/dgd/">
	    DGD and LPC</a> page</li>
      </ul>
    </a>

    <hr> </hr>

    <a name="NewFeatures">
      <h2> What new features is DGD adding in the experimental branch? </h2>

      <p> DGD version 1.2.41 and later supports unlimited incoming network
        ports, both telnet and binary.  This will likely be a big step
        forward for MUDs that want integrated FTP and HTTP servers since
        plain vanilla DGD now allows them.  Other likely applications
        include MUD clients and better telnet option handling (using a
        binary port).  Many of these things are
        already entirely possible with the net package but this brings
        them to those of us using vanilla DGD. </p>
      <p> Please note that there are still no plans to support outgoing
        network connections so active FTP and InterMUD3 are both still
        ruled out.  You'll need the network package for them, same
        as before. </p>
      <p> There is a major overhaul planned to allow DGD to fully support
        multiprocessor functionality.  Dworkin has already done significant
        work in this direction though some of it has been rolled back.
        He's planning to release it under a different name, one he hasn't
        yet announced.  The name change will be accompanied by a change in
        the commercial license since the old licenseholder went under.  The
        terms of use for those of us who don't already hold a commercial
        DGD license should be basically identical. </p>
    </a>
    <hr> </hr>

    <a name="Pike">
      <h2> The Pike language and how it relates to LPC and DGD </h2>

      <a href="http://pike.roxen.com">Pike</a> is a language environment
      for a language which is
      <a href="http://pike.roxen.com/about/history/">closely related to
	LPC</a>.  You may find its documentation useful, and luckily, it's
      even <a href="http://pike.roxen.com/download/gpl/">released under
	the GPL</a>.

    </a>

    <hr> </hr>

    <a name="DGDUnsupported">
      <h2> What things does DGD explicitly not support?  Why not? </h2>

      <p>Before answering this there are some things to point out.
	First, Dworkin chooses what stays and what goes.  If he doesn't
	want something in DGD and you do then you're just out of luck.
	He puts it like this:</p>
      <pre>
DGD is not open source in the ordinary sense.  The availability of new
code, and a consensus that the features added by this code are desirable,
are not sufficient to have that code included into the main source.
What you have to do is convince &lt;me&gt;.  Generally, you may assume that
if I thought a feature desirable, I would have implemented it myself. :)
      </pre>
      <p>However, you can make a patch to DGD and keep it up to date
	separately or just use it in your personal copy and not update
	often.  There are several people who maintain these patches to
	DGD for things that they think are important.  Patches like
	that are called packages.  You can find them if you look in
	the section about downloading DGD. </p>
      <p>So first of all, look at the list of packages here and in the
	<a href="http://dgd.is-here.com/dgd/faq/">DGD FAQ</a>.
	Anything that's a package there means that Dworkin doesn't think
	it belongs in DGD.  So if what you want is outgoing network
	connections or ANSI color codes, you're out of luck.</p>

      <h3> ANSI Color </h3>
      <p>Some terminals don't support ANSI color.  They do bad things
	with ASCII characters with the high bit set.  The normal DGD driver
	does a bitwise-and of all outgoing bytes with 0x7F, which strips
	off the high bit.  That means no ANSI color.  If you want it,
	you can install the package. </p>

      <h3> Foreign-Language Characters</h3>
      <p>The standard character set for Windows and many other operating
	systems includes foreign characters such as Czech, but sets the
	high bit on them.  For the same reason as ANSI color above,
	these aren't supported in plain DGD, and won't be.  Installing
	the ANSI patch or doing the same thing manually may fix this problem.
	See the section on configuring DGD to use
	<a href="DGD_Config.html#ANSIColor">ANSI Color</a> for more details.
      </p>

      <h3> Lambda Functions </h3>
      <p>Dworkin doesn't like any of the usual syntaxes for these, and
	feels they're unnecessary anyway in a language that already has
	virtual function dispatch (like virtual functions in C++).  Since
	you can fake them using LPC you're not really losing any
	functionality, even if you like the syntax and mindset better.</p>

      <p>You can also supply a string to "compile_object" rather than
        having it read a file.  This creates code from strings at
        object granularity rather than function granularity, but in
        many cases it works nicely for simulating lambda functions.
        See the Kernel MUDLib <b>code</b> command for DGD 1.2.41 or
        later as a fine example. </p>

      <h3> Shadows </h3>
      <p>There's nothing you can do with shadows that you can't do with
	existing stuff in DGD that isn't a security risk.  Shadows add
	very little functionality and add <i>lots</i> of security risks.
	DGD is very security-conscious, so out they go.  You can also
	fake them by patching call_out at the top levels of your MUDLib.
	If you don't know how to do that, consider it a good sign that
	using shadows is a bigger security hole than you want in your
	MUDLib. </p>

      <h3> C++-style double slash comments </h3>
      <p> Dworkin's against them and they're not standard LPC.
	If you need them enough to break compatibility with the rest of
	the world, install the package (at least for DGD 1.1-series). </p>

      <h3> Outgoing Network Connections </h3>
      <p> First of all, notice that there's already a perfectly good
	package that implements this.  If you really want outgoing network
	connections, install the net package.
	It's easier for you and for us than trying to get Dworkin to
	change it.  He won't, and we've already seen all the arguments
	before.  You can too if you check the
	<a href="ftp://ftp.imaginary.com/pub/LPC/servers/DGD/list-archive/">
	  mailing list archives.</a></p>

      <p>So why no outbound network connections?  Basically, because it's
	a security risk.  If you miscode your library <i>at all</i>
	(and please remember that security is <i>hard</i>) it's possible
	that your MUD can
	be used as a relay to attack other hosts.  Dworkin doesn't want to
	be party to that.  If you're so slick that you can implement a
	real MUDLib with no security holes at all, you're also easily
	skilled enough to install the net package and adapt it
	to the latest experimental DGD.  And this way there won't be a
	common, easy-to-exploit attack against standard DGD to let
	MUDs act as a relay for a denial-of-service attack.  Ever.</p>

      <p>We're aware that there are protocols like active FTP and
        InterMUD3 that require outgoing network connections.  The
        net package is waiting for you.</p>

      <h3> Built-in HTTP, FTP, complex telnet, IRC, etc </h3>
      <p> DGD won't do automatic HTML output for you, nor automatically
	respond to HTTP or FTP requests.  It won't send complicated telnet
	options on the regular port without the telnet client sending a
	request for them first.  It won't implement an IRC server, an inetd,
	a proxy, a firewall, or any of many other networked servers which
	it is <i>quite</i> possible to build on top of DGD.  That's for
	pretty much the same reason your C compiler doesn't come with
	source for a full word processor, net server, spreadsheet, and
	operating system.  GCC has been used to write all of these
	things but the GCC source doesn't ship with all of them included.
      </p>
      <p> In the same way, DGD tries not to includes stuff that most of
	its users won't need when the few users who <i>do</i> need it can
	build it easily in LPC or into the driver.  Complex telnet options
	like detecting screen size automatically fall into this category,
	as does HTTP processing.</p>
      <p> If you want to implement any of these, you should use the binary
	port or -- for some of them -- install the net package first so you can
	make outgoing connections.
	You'll need to write a little server for each protocol you want to
	support so it's a good idea to do web searches and find an RFC
	for the protocol you want to use.</p>
      <p> If you make your implementation public then I can put a little
        advertisement here for it.  If you've got the first public
        FTP or InterMUD3 implementation, this could be a great way to
        get a little traffic to it.  Think about it.  Incidentally,
        GurbaLib claims FTP and InterMUD3 compatibility but I haven't
        looked at its source and I hesitate to yet call it
        &quot;public&quot;. </p>

      <h3> Foreach statements </h3>
      <p> Says Dworkin: foreach has theoretical problems with mutable
	expressions such as mappings; also I have doubts about the addition
	of variable declarations in a statement, and non-mutable loop
	variables, to LPC.</p>

      <p> Obviously you can also do the same thing just fine in existing
        LPC. </p>

    </a>

    <hr> </hr>

    <a name="SkotosArchitecture">
      <h2> Skotos Architecture </h2>

      <p> This is an example of the kind of edifice you could build on
	the Kernel MUDLib, pretty much unmodified.  You'd have to be
	as motivated as a company full of busy and inspired people to
	build something as
	  cool as
	  <a href="http://www.skotos.net"> Skotos </a> did, of course.
	</p>

<pre>
 -------------------------------------------------------------
/                          Game                               \
\                          World                              /
 -------------------------------------------------------------
/                          Game                               \
\                     Specific Mechanics                      /
 =============================================================
 -------------------------------------   ---------------------
/                WorldLib             \ /       IFLib         \
|   inventory            stance pose   |                      |
|  proximity  details  faces  desc     |   socials     verbs  |
\    exits  gender  volition  physics / \   adverbs  errors   /
 --- - - - - - - - - - - - - - - - --- \ \ -- - - - - - - - --
/                 DevLib                \ /   ToolLib         \
|     Services             Interpreters  |                    |
|                                        |    sam  |   dtd    |
|  sid  | devd  ||  state | forms | sami |  xmlgen | xmlparse |
\  logd | helpd ||        |       |     / \                   /
 -------------------------------------------------------------
/                                                             \
|                               System                        |
|                               Library                       |
|        Object Services          ||      Net Services        |
|                                 ||                          |
|  initd | idd | progdbd |syslogd || nptd | httpd | devuserd@ |
\        |     |         |        ||      |       |           /
 -------------------------------------------------------------
/                                                             \
|                               Kernel                        |
|                               Library                       |
|                                                             |
|    security  ownership  resources  thread-local  logon      |
\                                       storage               /
 -------------------------------------------------------------
/                                                             \
|                            D G D                            |
|                                                             |
|  LPC Compiler  |  Run-Time  |  Database  |  I/O  |  Parser  |
\                |            |            |       |          /
 -------------------------------------------------------------
</pre>
      </a>

    <h2> <a href="index.html"> Back to top level </a> </h2>

    </font>

    <hr> </hr>
      <a href="http://sourceforge.net">
	<img src="http://sourceforge.net/sflogo.php?group_id=48659&type=3"
	     width="125" height="37" border="0" alt="SourceForge.net Logo"></a>
    <!-- Created: Mon Jun 11 21:50:30 PDT 2001 -->
    <!-- hhmts start -->
Last modified: Tue Jun 11 11:00:44 PDT 2002
<!-- hhmts end -->
  </body>
</html>
