<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>The Kernel Library for DGD: Extra AUTO Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">The DGD Kernel Library</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="../index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../LPC">LPC Textbook</a> </li>
	    <li> <a href="http://www.sf.net/projects/phantasmal">Phantasmal
	      SourceForge</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br /><br /><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
             style="border: 0; width: 125; height: 37;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0" cellspacing="1" cellpadding="0" 
          class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="http://phantasmal.sf.net/DGD">DGD Page</a> &gt;
            <a href="index.html">Kernel Library</a> &gt;
            <a href="">Extra AUTO Objects</a>
          </td>
        </tr>
        <tr>
          <td class="content">
  

  <h2> Additional and Non-Standard AUTO Objects </h2>

  <p>
    The Kernel Library has a much-misunderstood feature that allows
    you to change the effective AUTO object of programs.  This
    document describes how to do it.
  </p>

  <p>
    In this case, &quot;changing the effective AUTO object&quot; just
    means having objects implicitly inherit (as with AUTO) from
    another object.  Note that the object being implicitly inherited
    from, like all objects, will inherit from the AUTO object itself.
    Obviously, there are some possible problems with cyclic
    inheritance if you aren't careful here.
  </p>

  <p>
    First off, you'll need an object manager.  Your object manager
    doesn't have to do anything fancy.  It doesn't have to track
    objects, or respond in any complicated way to any of the function
    calls it receives.  However, it <i>does</i> have to exist and be
    registered with the Kernel Library via
    DRIVER-&gt;set_object_manager().  See
    &frasl;doc&frasl;kernel&frasl;hook&frasl;driver for details about
    what functions your object manager needs to define.
  </p>

  <p>
    Add the line <tt>#include &quot;AUTO&quot;</tt> to the standard
    include file, which is usually
    &quot;&frasl;include&frasl;std.h&quot;.  Create an empty file,
    called AUTO, in the &frasl;include directory.  This makes sure
    that most objects will transparently, automatically include the
    (empty) AUTO file, which will do nothing.
  </p>

  <p>
    However, the objects you have specifically chosen to implicitly
    include your alternate AUTO file are different.  You're going to
    make a file called something like
    &quot;&frasl;include&frasl;second_auto.h&quot;.  That file
    contains only the line <tt>inherit
    &quot;&frasl;usr&frasl;Bob&frasl;myauto&quot;;</tt>
  </p>

  <p>
    The way you'll choose what objects will use your alternate AUTO
    object is with your object manager, which will need to contain a
    call to path_special.  Your path_special call will return the
    filename of your include file (such as
    &quot;&frasl;include&frasl;second_auto.h&quot;) when it sees the
    name of a file that you want to have that second AUTO object.
  </p>

  <p>
    Please note that your second AUTO object will inherit from the
    regular first AUTO object, just like any other library.  It'll
    need to be a library (because other programs inherit from it).
    And make sure it doesn't inherit from itself, and that no
    libraries it inherits from also inherit from it.
  </p>

  <p>
    Note that programs under &frasl;kernel can't inherit a second AUTO
    object.  You don't get to mess with them.  Similarly, nothing
    under &frasl;usr&frasl;System can get a second AUTO object.  They
    just get the regular one.  If you really need objects under
    &frasl;usr&frasl;System to inherit from your additional AUTO
    object, you can have them inherit from it explicitly, with an
    'inherit' statement, like usual.
  </p>
            <address>
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span>
            </address></td>
        </tr>
      </table></td>
  </tr>
</table>
</body>
</html>
