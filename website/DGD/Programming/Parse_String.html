<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>DGD and LPC: Using parse_string</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">The DGD Driver</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../LPC">LPC Textbook</a> </li>
	    <li> <a href="../Book">New LPC Introduction</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br /><br /><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
             style="border: 0; width: 125; height: 37;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0" cellspacing="1" cellpadding="0" 
          class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="http://phantasmal.sf.net/DGD">DGD Page</a> &gt;
            <a href="">Using parse_string</a>
          </td>
        </tr>
        <tr>
          <td class="content">
  

  <h2> Using DGD's parse_string Kfun </h2>

  <p>
    The parse_string kfun is a very powerful parser to which you
    supply a grammar of your choice.  It's much like lex and yacc, and
    defines its own mini-language within DGD, much as lex and yacc do
    with C.  DGD's parse_string, unlike most parsers, keeps track of
    all your ambiguous matches.  That fact is both a great power and a
    great responsibility.
  </p>

  <p>
    What that means is that if your grammar allows something to be
    parsed a couple of different ways then DGD will keep track of them
    all while parsing.  If there are two ways to parse a double-if
    statement with else (the else can go with either if) in your
    grammar, and you feed parse_string a chunk with fifteen of those,
    you'll find that DGD is keeping track of 2^15 (that's a little
    more than 32,500) different interpretations of your file. Then it
    will cheerfully return only the first.  That's slow, just in case
    you hadn't guessed.
  </p>

  <p>
    Similarly, if your grammar contains a rule like <tt>element_list:
    element_list ',' element_list</tt> and also a rule to have
    <tt>element_list</tt> match, say, an integer, then the input
    &quot;17,25,3,17534,37,3524,2,1,359&quot; will also have many
    possible parse trees, and will also take a very long time to
    complete.  In a library like the Kernel Library that tries to
    prevent infinite loops, you'll usually find you're out of ticks
    and one of your rlimits() statements interrupts you midway through
    the parsing.
  </p>

  <p>
    However, sometimes you <i>want</i> ambiguous parsing.  For
    instance, you may have a natural language parser for player
    commands, and you'd like the player to be able to type &quot;get
    down&quot; and have it mean either of &quot;get down from the
    platform&quot; or &quot;take the down pillow&quot; according to
    two different grammar rules.  DGD's parse_string will return both
    parses, and you can decide which makes more sense for the player
    currently.  Most parsers won't find all ambiguous matches for a
    given grammar and input.
  </p>

  <p>
    A fellow on the list named Steve Foley has graciously put together
    a tutorial on parse_string, with the aid of Erwin Harte.  You can
    find it <a href="../external/parse_string.html">here</a>.
  </p>

  <hr />

  <ul>
    <li> <a href="../external/lpc_grammar.txt">An (outdated) grammar
        for DGD's LPC dialect</a></li>
    <li> <a href="../external/ps_example_1.txt">Dworkin's example of
        using functions to affect the final parse tree</a> </li>
    <li> <a href="../external/ps_example_2.txt">Efficiency of sscanf
        versus parse_string</a> </li>

    <li> <a href="../external/ps_example_3.txt">A more specific
	discussion about efficiency of sscanf versus parse_string</a>
    </li>

    <li> <a href="../external/ps_example_4.txt">Dworkin
	discussing simple left-recursive rules for lists</a>
    </li>

  </ul>

  <hr />

  <p style="text-size: 150%"> <a href="index.html"> Back to DGD &amp; LPC
      Page </a> </p>
            <address>
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span>
            </address></td>
        </tr>
      </table></td>
  </tr>
</table>
</body>
</html>
