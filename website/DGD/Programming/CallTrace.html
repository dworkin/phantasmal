<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>DGD and LPC: call_trace()</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">The DGD Driver</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="../index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../LPC">LPC Textbook</a> </li>
	    <li> <a href="../Book/html/">New LPC Introduction</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br /><br /><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
             style="border: 0; width: 125; height: 37;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0" cellspacing="1" cellpadding="0" 
          class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="http://phantasmal.sf.net/DGD">DGD Page</a> &gt;
            <a href="">call_trace()</a>
          </td>
        </tr>
        <tr>
          <td class="content">
  

  <h3> Using call_trace() </h3>

<pre>
Date: Thu, 1 Feb 2001 11:14:58 +0100 (MET)
From: Mikael Lind
Subject: Re: [DGD]Limiting access to functions

Quoting Neil McBride from 19:20, 2001-02-01:

> Firstly, you can determine the previous function name using
> call_trace.  In this case, X.  However, call_trace doesn't list
> any inherited objects (Is there anything that does?).  Once
> you've found the function name, you can then use function_object
> to determine what object the function was inherited from.  The
> only restriction is that X must be callable by call_other.  If
> the object is object A, then you've found your match.  Also, the
> fact that function X is nomask means it can't be changed - always
> useful when you're trying to ensure data integrity ;)

Using call_trace(), you get function name, object name and program
name (object name of the object defining the function), among other
things. So if you use call_trace() anyway, there's no need to use
function_object() to get the name of the defining program.

In fact, previous_program(), this_object() and previous_object()
could all be implemented in LPC from call_trace(). I assume that they
are provided as kfuns for efficiency reasons. What disturbs me here
is that previous_program() and previous_object() differ in
functionality in a way that at least I didn't expect by looking at
the names - previous_object() only cares about function calls done
with call_other(). I find that a bit inconsistent.

// Elemel / Mikael

--
Give up yourself unto the moment / The time is now / Give up yourself
unto the moment / Let's make this moment last // Moloko
</pre>

  <p style="text-size: 150%"> <a href="index.html"> Back to LPC &amp; DGD
      Page
    </a> </p>
            <address>
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span>
            </address></td>
        </tr>
      </table></td>
  </tr>
</table>
</body>
</html>
