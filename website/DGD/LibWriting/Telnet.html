<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>DGD and LPC: Telnet Protocol</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">The DGD Driver</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../LPC">LPC Textbook</a> </li>
	    <li> <a href="../Book">New LPC Introduction</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br /><br /><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
             style="border: 0; width: 125; height: 37;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0" cellspacing="1" cellpadding="0" 
          class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="http://phantasmal.sf.net/DGD">DGD Page</a> &gt;
            <a href="">Telnet Protocol</a>
          </td>
        </tr>
        <tr>
          <td class="content">
  

  <h2> Implementing Extended Telnet Protocol in DGD </h2>

  <p>
    DGD has 'telnet ports', which implement part of the telnet
    protocol.  However, they do so in a very limited and rigid way,
    and Dworkin has no intention of extending them, or even modifying
    their behavior.  The network patch for DGD makes no change in
    this, and the ANSI color patch, while it allows certain outgoing
    high-ASCII characters, still requires patching DGD.  What should
    you do to fix this?
  </p>

  <p>
    The best answer is to implement your own telnet server in LPC and
    connect it to a DGD binary port.  This allows you to configure the
    result in LPC rather than patching DGD, and lets you send things
    like international high-ASCII characters and ANSI color codes when
    and how you like.  It also lets you handle parts of the telnet
    protocol that DGD does not, such as changes in the screen size,
    and default terminal settings.
  </p>

  <p>
    To implement the telnet protocol, you'll want to use some RFCs.
    Here are some potentially useful ones:
  </p>

  <pre>
  RFC 854 - Telnet protocol specification.
  RFC 855 - Telnet option specifications.
  1091 Telnet terminal-type option. J. VanBokkelen. Feb-01-1989.
       (Format: TXT=13439 bytes) (Obsoletes RFC0930) (Status: PROPOSED
       STANDARD)
  </pre>

  <p>
    There are bugs in how older MUD servers treat newlines, and the
    same is true of older clients.  However, the bugs seem to be all
    different and highly platform-dependent, so you'll need to work
    this one out for yourself.  Whether a telnet linefeed is
    newline-then-CR or CR-then-newline or just one or just the other
    seems to be highly platform dependent.  When in doubt, be
    tolerant.
  </p>

  <p>
    Be sure to test with a variety of telnet clients.  Even recent
    clients seem to have a variety of odd bugs in the protocol.  When
    testing, remember that some clients will even do odd things like
    detect the string &quot;password&quot; and turn off character echo
    afterward rather than relying on the server to turn off echo at
    the appropriate times.
  </p>

  <pre>
From: DGD Mailing List (Felix A. Croes)
Date: Fri Nov  1 15:43:01 2002
Subject: [DGD] Mexican Characters

Lord Lerkista wrote:

> When in a Mud i type the n-tilde character in a Unix-like terminal i 
> get a "q" as output,
> It's something of the telnet protocol that uses DGD??

It's because you are using a Mac.  DGD uses line mode for telnet clients,
and binary mode is not well-defined for line mode in the telnet protocol.
DGD uses a hack to enable it on many clients, but apparently it fails on
the Mac.

I am not planning any changes in DGD's telnet support, since even minor
changes are bound to break clients on some other platform.  Instead I am
thinking about a standard protocol for a new mud client, a version of
which I will probably release in Java.  Oh, and it will connect to the
binary port, with the protocol level on the server side handled by LPC.

Regards,
Dworkin
  </pre>

  <p style="text-size: 150%"> <a href="../index.html"> Back to top level
    </a> </p>
            <address>
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span>
            </address></td>
        </tr>
      </table></td>
  </tr>
</table>
</body>
</html>
