<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>DGD and LPC: Object Management</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">The DGD Driver</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../LPC">LPC Textbook</a> </li>
	    <li> <a href="../Book">New LPC Introduction</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br /><br /><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
             style="border: 0; width: 125; height: 37;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0" cellspacing="1" cellpadding="0" 
          class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="http://phantasmal.sf.net/DGD">DGD Page</a> &gt;
            <a href="">Object Management</a>
          </td>
        </tr>
        <tr>
          <td class="content">
  

  <h2> Managing and Upgrading DGD Objects </h2>

  <p>
    DGD is impressive in the degree of upgradeability and <a
    href="Persistence.html">persistence</a> that it offers.  However,
    to take full advantage of the upgradeability, you'll need to
    observe some ground rules.
  </p>

  <p>
    DGD's <a href="../Kernel/Inheritance.html">inheritance</a>
    features aren't quite the same as a regular LPMUD, though they're
    far more powerful if used correctly.
  </p>

  <p>
    You'd like to be able to upgrade all your code while leaving your
    data in place.  For instance, you'd like to be able to write a new
    feature for your MUD, and enable it while players are logged in.
    Before the recompile, the feature isn't there.  After the
    recompile, it is.  Players don't see any difference until they try
    the new command, which works after the recompile.  This is less of
    a pipe-dream than it sounds.  <a
    href="http://phantasmal.sf.net">Phantasmal</a> already does it
    using the %full_rebuild command, and the Kernel Library has a less
    automated, more awkward way to do it, but it can work.  Sadly, few
    other DGD libraries (except the closed-source <a
    href="http://www.skotos.net">Skotos</a> servers) seem to do this.
  </p>

  <p>
    One reason that few libraries bother to do this is that it
    requires tracking all object compilation and inheritance.  The
    Kernel Library makes this slightly easier by encapsulating that
    functionality into an Object Manager (see the LPC Examples section
    for several Object Managers, or download Phantasmal and look at
    that one).
  </p>

  <p>
    There are some other related tricks you can do.  It's usually very
    convenient to call a function on objects that are recompiled but
    also have data.  The data may need to be updated after the change
    in code.  Phantasmal calls an &quot;upgraded&quot; function in any
    recompiled master object, if it exists (if clones or LWOs need to
    be updated, the master must keep a list of them or they must be
    looked up using the Kernel Library tracking facilities).  <a
    href="http://www.skotos.net">Skotos'</a> libraries use a different
    method based on the call_touch kfun to update objects as they are
    used.  This makes a great deal of sense, given the quantities of
    objects that Skotos' libraries deal with.
  </p>

  <p>
    The Kernel Library uses what's called an <a
    href="../Kernel/ObjectManager.html">Object Manager</a>, or
    ObjectD, to do all of this.
  </p>

  <p style="text-size: 150%"> <a href="../index.html"> Back to top level
    </a> </p>
            <address>
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span>
            </address></td>
        </tr>
      </table></td>
  </tr>
</table>
</body>
</html>
