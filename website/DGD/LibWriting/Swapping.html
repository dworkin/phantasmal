<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>DGD and LPC: Swapping</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">The DGD Driver</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../LPC">LPC Textbook</a> </li>
	    <li> <a href="../Book">New LPC Introduction</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br /><br /><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
             style="border: 0; width: 125; height: 37;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0" cellspacing="1" cellpadding="0" 
          class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="http://phantasmal.sf.net/DGD">DGD Page</a> &gt;
            <a href="">Swapping</a>
          </td>
        </tr>
        <tr>
          <td class="content">
  

  <h2> DGD's Swapping Behavior </h2>

  <p>
    DGD calls itself a &quot;disk-based&quot; server.  That means that
    DGD will swap out objects after they've been unused for awhile.
    It uses a standard LRU (Least Recently Used) metric to determine
    which objects should be removed from memory.  This swapping is
    entirely transparent from the point of view of the LPC code.  All
    LPC code executes as though every object was in RAM at all times,
    and objects will be pulled into memory as they are referenced.
  </p>

  <p>
    DGD's configuration file contains a parameter called
    swap_fragment.  That's the fraction of all objects that should be
    removed from memory.  For instance, if swap_fragment is equal to
    20, then one-twentieth of all objects will be swapped out at the
    end of every thread of execution.  A smaller swap_fragment will
    cause DGD to use less memory, but will also mean more disk access
    is necessary as objects are written.
  </p>

  <p>
    Objects are stored as sectors.  The sector_size parameter tells
    how large a single sector is, in bytes.  Every object takes up a
    multiple of the sector size in the swap file.  So if the sector
    size were 1024, no object could take less than one kilobyte to
    store in the swap file.  An object with 3217 bytes of data would
    wind up actually taking 4096 bytes in the swap file, or four
    sectors.  A small sector size can save some space that way, though
    a very small sector size (like, say, 64 bytes) will require the
    DGD server to use up a lot of processor time and memory in
    managing so many sectors.
  </p>

  <p>
    The swap_cache config parameter says how many sectors can be in
    RAM at once.  If this is large, DGD runs fast.  If it's small, DGD
    takes less memory.
  </p>

  <p>
    An object is swapped back into memory when one of its functions is
    called, or when certain driver functions are called on it.
  </p>

  <p style="text-size: 150%"> <a href="../index.html"> Back to top level
    </a> </p>
            <address>
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span>
            </address></td>
        </tr>
      </table></td>
  </tr>
</table>
</body>
</html>
