<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Phantasmal Admin Tutorials: Querying ObjectD</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">Phantasmal Admin Tutorials</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="../../index.html">Phantasmal Main</a> </li>
            <li> <a href="../index.html">Phantasmal Tutorials</a> </li>
	    <li> <a href="http://www.sf.net/projects/phantasmal">Phantasmal
	      SourceForge</a> </li>
            <li> <a href="../../DGD/index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../../DGD/LPC">LPC Textbook</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=6"
             style="border: 0; width: 210; height: 62;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0"
          cellspacing="1" cellpadding="0"  class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="../../index.html">Phantasmal</a> &gt;
            <a href="../index.html">Tutorials</a> &gt;
            <a href="index.html">Admin</a> &gt;
            <a href="">Querying ObjectD</a>
          </td>
        </tr>
        <tr>
          <td class="content">
    

    <h2 style="text-align: center"> Querying ObjectD </h2>

    <p> I take it you're running low on tutorials.  Why else would you
      be figuring out how to play with Phantasmal's ObjectD?  Apparently
      you're bored or intrigued enough to find out how to play with
      extremely low-level gritty details.  Fair enough, I just
      document this stuff. </p>

    <p> You'll need a good working grasp of how inheritance and upgrades
      work in the <a href="http://phantasmal.sourceforge.net/DGD/Kernel/">
	Kernel Library</a> -- Phantasmal is based on it, and uses
      the same semantics for inheritance.  You'll also need to know
      roughly what an object manager is and how it works.  You'll find
      more than you ever wanted to know in the mailing list archives.
      Let's jump right in, shall we? </p>

    <p> You'll need to find an object with the <b>%od_report</b> command.
      One way to do that is to come up with an object you know exists.
      These are entirely different from the kind of object you make
      with <b>@make_portable</b> or <b>@new_room</b>.  Instead, they're
      LPC programs.  So you could start by saying &quot;%od_report
      /usr/System/initd&quot;.  That'd work.  You might see:</p>
<pre>
Clonable
  0 clones exist
Name: /usr/System/initd
Index: 19
Comp_time: Fri Mar 14 07:17:17 2003
No previous issue
Inherits from: #50 #52
Also depends on: /include/kernel/kernel.h /include/config.h
/include/kernel/access.h /include/kernel/rsrc.h /include/kernel/version.h
/include/type.h /include/config.h /include/log.h
</pre>

    <p> Confusing.  That top line says that it's Clonable instead of
      Inheritable, so an object and not a library.  It has no current
      clones, though.  The Name is the object name, which you already
      knew because you typed it.  The &quot;index&quot; is also referred
      to as the Issue, and tells what compiled version you're looking at.
      The same object could exist in many different ways on the same
      running MUD just as long as somebody inherited from them once and
      is thus still pointing to them, which keeps them around. </p>

    <p> The Comp_time is just when it was compiled.  No black magic there.
      &quot;No previous issue&quot; is what it says if your ObjectD isn't
      tracking more than one version of this object.  It might otherwise
      mention a previous issue by number, which you could then examine
      with <b>%od_report</b>.  It <i>does</i> mention that it inherits
      from some objects, #50 and #52.  We'll look at one of them in a
      minute.  And then it &quot;also depends on&quot; files like
      /include/kernel/kernel.h.  Usually this means that it includes
      them from its source file. </p>

    <p> So if we want to find out what object #50 is, we'll type
      &quot;%od_report #50&quot;.  Go ahead.  I get: </p>
<pre>
Inheritable
Name: /kernel/lib/api/access
Index: 50
Comp_time: Fri Mar 14 07:17:17 2003
No previous issue
Inherits from:
Its children are: #56 #19 #15 #67 #68 #69
Also depends on: /include/kernel/kernel.h /include/config.h /include/kernel/access.h
</pre>
    <p> Note that this one is inheritable.  The previous object inherited
      from it, so it better be.  It's /kernel/lib/api/access, which seems
      a pretty reasonable parent for /usr/System/initd.  It also has
      no previous issue.  It inherits from nobody, but it has lots of
      children, including #19.  That's good, because #19 is /usr/System/initd,
      so it'd better list that as a child. </p>

    <p> There's only one other command that directly queries the ObjectD,
      and that's <b>%list_dest</b>.  Just type it by itself.  If you get
      output like this: </p>
    <pre>
Objects:
    </pre>
    <p> Then nothing is on the list.  If you see names afterward then
      it means there's some object whose most recent issue is destructed.
      The <b>%od_report</b> command works just fine on destructed objects
      and issue numbers, so you can find out all about it.
    </p>
            <address> 
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span> 
            </address></td> 
        </tr> 
      </table></td> 
  </tr> 
</table> 
</body>
</html>
