<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Phantasmal Admin Tutorials: System Logfile</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">Phantasmal Admin Tutorials</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="../../index.html">Phantasmal Main</a> </li>
            <li> <a href="../index.html">Phantasmal Tutorials</a> </li>
	    <li> <a href="http://www.sf.net/projects/phantasmal">Phantasmal
	      SourceForge</a> </li>
            <li> <a href="../../DGD/index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../../DGD/LPC">LPC Textbook</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=6"
             style="border: 0; width: 210; height: 62;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0"
          cellspacing="1" cellpadding="0"  class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="../../index.html">Phantasmal</a> &gt;
            <a href="../index.html">Tutorials</a> &gt;
            <a href="index.html">Admin</a> &gt;
            <a href="">System Logfile</a>
          </td>
        </tr>
        <tr>
          <td class="content">
    

    <h2 style="text-align: center"> The System Logfile </h2>

    <p> Your copy of Phantasmal has a logfile.  Yes, that's right,
      <i>yours</i> -- there's no getting around it.  None!  So what
      are you going to do about it? </p>

    <p> If I were you, I'd learn about it.  This tutorial can help.
      First you'll need to find it.  Check out &quot;/log/System.log&quot;
      first, that's the default location.  If it's not there you'll
      just have to check the &quot;/include/config&quot; file for
      something that looks like a logfile.  Have a look in your logfile.
      If you've been ignoring it up until now, it's probably got a lot
      of random stuff in it.  Mmm...  Stuff.  You may even remember
      specific errors you've gotten and see them there. </p>

    <p> You may want to go ahead and remove the old logfile or back
      it up, just so you don't have to scroll past all the old
      stuff.
      So do that now if you're gonna.  Then, at the MUD command line
      and with an administrator character, type something like
      &quot;%log YOUR AD HERE, ONLY $99.99!&quot;.  Now have a look
      in the logfile again. </p>

    <p> Those spamming bastards!  They're everywhere!  Even in your
      logfile.  No, I'm being silly.  That is (of course) the
      message you just typed, in the logfile, with a little header
      above it.  The header tells you who typed it, what
      file the message came from and various things like that. </p>

    <p> It's kind of inconvenient to have to look at the logfile
      in the terminal window and type the MUD commands from the
      MUD window, isn't it?  You can view the logfile more easily
      by subscribing to the Logfile channel.  You're an administrator,
      you can do that.  Go ahead and type &quot;channels&quot;,
      which will show you your available channels.  Note that both
      the <b>Logfile</b> and <b>Error</b> channels are available.
      I highly recommend subscribing to one or the other, but not
      both.  Any error will also make it into the logfile and
      you probably don't want to see it twice (three times in
      some cases). </p>

    <p> Go ahead and subscribe to the logfile with a command like
      &quot;channels Logfile on&quot;.  The try some test-logging...
      Type &quot;%log d00dz!  37337 \/\/AR3Z 5173 @ 127.0.0.1!&quot;.
      Bastards!  Now they even spam your terminal with their
      filth!  You should bring down their vile warez site with a
      denial-of-service attack! </p>

    <p> But seriously, now you can tell that you're seeing what
      gets written to the logfile as it gets written.  Go you!  You
      can subscribe to only certain notification levels if you
      prefer.  There's a special syntax for subscribing to channels
      that only administrators get -- check the usage information.
      To subscribe to errors only, for instance, you can type
      &quot;channels logfile on err&quot;.  You may need to
      unsubscribe and resubscribe to do this, though. </p>

    <p> The error channel doesn't currently respect the
      level setting.  All errors are considered equal severity,
      so if you subscribe to the error channel you see
      all of them.  Still, it can be very useful.  Note: errors
      that are caught with a catch{} construct in the code don't
      show up on the error channel or in the logfile.  Caught
      errors are considered routine so you don't want them
      cluttering up your log. </p>

    <p> There's one more nifty command to play with --
      <b>%log_subscribe</b>.  It lets you choose what goes into
      the logfile and what doesn't.  Every log message has a
      severity like &quot;verbose&quot;, &quot;normal&quot;,
      &quot;warning&quot;, &quot;error&quot; and &quot;fatal&quot;.
      There are equivalent numbers for the various severities.
      With <b>%log_subscribe</b> you can choose, for each file,
      what severity of error gets written to the logfile.  This
      may not affect what winds up on the Logfile channel, though.
      The syntax for <b>%log_subscribe</b> is:  &quot;%log_subscribe
      &lt;file&gt; &lt;level&gt;&quot;.  If you want the settings
      to persist across shutdowns, it's currently better to change
      the &quot;/data/system/logd_channels.unq&quot; file, which
      has the same functionality. </p>
            <address> 
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span> 
            </address></td> 
        </tr> 
      </table></td> 
  </tr> 
</table> 
</body>
</html>
