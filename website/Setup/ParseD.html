<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Setting Up Phantasmal: Configuring ParseD</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="../phantasmal.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="95%" border="0" cellspacing="0" cellpadding="4">
  <tr>
    <td colspan="2"> <table width="100%" border="0" cellspacing="1"
        cellpadding="0" class="main">
        <tr>
          <td class="banner">Setting Up Phantasmal</td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td valign="top">
      <table width="25%"  border="0" cellspacing="1"
             cellpadding="0"  class="main">
        <tr>
          <td class="content" style="font-size: 120%">

          <ul style="margin: 0; padding-left: 10%">
            <li> <a href="../index.html">Phantasmal Main</a> </li>
	    <li> <a href="http://www.sf.net/projects/phantasmal">Phantasmal
	      SourceForge</a> </li>
            <li> <a href="../DGD/index.html">DGD &amp; LPC Page</a> </li>
	    <li> <a href="../DGD/LPC">LPC Textbook</a> </li>
          </ul>

        </td>
        </tr>
        <tr>
          <td class="content" align="center">
            <a href="http://validator.w3.org/check/referer">
            <img src="../images/valid-xhtml10.gif" alt="Valid XHTML 1.0!"
             style="border:0;width:88px;height:31px" /></a><br />
            <img src="../images/pixel.gif"
             style="border:0;width:88px;height:1px" alt="" /><br />
            <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img src="http://jigsaw.w3.org/css-validator/images/vcss"
             alt="Valid CSS!" style="border:0;width:88px;height:31px" />
            </a><br /><br /><br />
            <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
             style="border: 0; width: 125; height: 37;"
	     alt="SourceForge.net Logo" /></a>
          </td>
        </tr>
      </table></td>
    <td> <table width="100%"  border="0" cellspacing="1" cellpadding="0"  class="main">
        <tr>
          <td class="heading">&nbsp;&nbsp;&middot;&nbsp;
	    <a href="../index.html">Phantasmal</a> &gt;
            <a href="index.html">Setup</a> &gt;
            <a href="">Configuring ParseD</a>
          </td>
        </tr>
        <tr>
          <td class="content">
    

    <h3 style="text-align: center"> Configuring the ParseD </h3>

    <p>
      The command line is the most direct interface between your
      players and your MUD.  Phantasmal offers customization of the
      parser so that you can give your players the best possible
      experience in interacting with your game.  The following is
      Phantasmal's idealized parsing architecture.  Not all of it will
      be immediately available.
    </p>

    <h3> How the Parser Works </h3>

    <h4> Tokenizing and Parts of Speech </h4>

    <p>
      First, the parser looks over various words and decides what
      parts of speech they're allowed to be.  For instance, the word
      &quot;fast&quot; can be an adjective or adverb, but can also be
      a noun or a verb.  Most words aren't quite as versatile --
      &quot;green&quot; is a noun or an adjective, but almost never a
      verb, and definitely not an adverb.
    </p>

    <p>
      Some parts of speech are gathered from your existing data.
      Since your objects already have a wide variety of nouns and
      adjectives, Phantasmal registers all of them with the ParseD.
      If you see a message like &quot;I don't know the word
      'clock'&quot;, it probably means that you have no object in your
      game with the noun 'clock'.  You can add it to the game's
      vocabulary simply by creating a clock object anywhere in your
      MUD.  Adjectives (and eventually plural and possessive nouns)
      work the same way.
    </p>

    <p>
      Verbs are registered specifically with the parser.  Note that
      verbs are <i>not</i> the same as actions in your MUD.  For
      instance, it's quite reasonable to make the phrase &quot;get
      down&quot; mean to dance, even though 'get' usually means to
      take an object.  Most MUDs don't allow this, or would require
      you to code it into the 'get' action.  Verbs are categorized as
      either <b>intransitive</b> (i.e. not taking a direct object),
      <b>transitive</b> (i.e. taking a direct object, and perhaps an
      indirect object as well), or both.  An example of a verb which
      is both is 'sing' -- you may say 'sing' by itself, or give it a
      direct object, as in &quot;sing something by Vivaldi&quot;.
    </p>

    <p>
      Adverbs currently don't do anything, but they'll eventually be
      able to be registered.  Those will be important primarily for
      social verbs, though phrases like &quot;walk carefully&quot;
      or &quot;sneak silently&quot; should eventually be possible,
      and may even modify the action if the game so chooses.
    </p>

    <p>
      Special words like conjunctions (and, but, yet, so, for, and,
      nor) and prepositions (into, around, under, behind, of, on, on
      top of, underneath, etc) are currently hardcoded into the parser,
      and are likely to be for quite some time.
    </p>

    <p>
      This division by what parts of speech a word may be is called
      'tokenizing'.  The now-categorized words are called 'tokens'.
    </p>

    <h4> Grammar and Parsing </h4>

    <p>
      The parser will then examine all of these words and come up with
      possible sentence structures.  For instance, the phrase
      &quot;move the box under the table&quot; might be parsed with
      the prepositional phrase modifying the box, or modifying the
      table.  &quot;Fast and quickly run&quot; can mean either of two
      things, depending on whether 'fast' is meant as a verb or an
      adverb.  Each sentences can each have attributes for things like
      grammar and perceived appropriateness.
    </p>

    <p>
      At this point, the sentences have been parsed only
      grammatically.  The nouns haven't been checked against available
      people and objects, and the verbs (and corresponding actions)
      haven't been checked to see if they are possible or appropriate.
      &quot;Eat the red shoe behind the mother of checkered
      bobcat&quot; will be considered just as valid as &quot;go
      north&quot;, except perhaps for the grammatical nitpick in the
      former.
    </p>

    <h4> Verb Resolution and Binding </h4>

    <p>
      The next stage accomplishes <i>verb resolution</i> and
      <i>binding</i>.  Verb resolution checks the appropriateness of
      certain grammatical constructions, and maps the sentence into an
      action.  Binding matches noun phrases to objects in the
      environment.
    </p>

    <p>
      The various parsed sentences from the previous stage are passed
      to an LPC object representing the verb.  That object decides how
      binding should be accomplished, and calls an internal Binder API
      to accomplish the actual binding.  Verbs that take hypothetical
      subjects may do no binding at all -- 'watch for hairy green
      forks' may be a perfectly valid thing to say even if no hairy
      green forks exist anywhere in the game.  The 'watch' verb would
      simply choose not to bind that noun phrase, and instead pass it
      through verbatim to the 'watch' action.
    </p>

    <p>
      For most actions, the binding will locate an object in the
      immediate environment.  For instance, in the phrase &quot;get
      the third sticky grape&quot;, binding would look for objects
      that might be called sticky grapes, and choose the third
      of them.  There may eventually even be support for comparative
      and superlative adjectives -- &quot;get the hottest potato in
      the bin&quot;.  But currently no such thing exists.
    </p>

    <p>
      More complex sentence structures are possible, and binding will
      occur on them in this stage as well.  In the phrase &quot;remove
      a pen from the big box&quot;, the big box will also be resolved
      by the binder.
    </p>

    <p>
      Normally, if an object can't be found by the binder or for some
      other reason the sentence seems impossible, it still won't be
      thrown out.  If the player types &quot;get the green
      emerald&quot; and there's no emerald available, it's important
      to receive a message like &quot;You can't find one.&quot;.  So
      the sentence should be marked as unlikely (in case there's some
      other way to parse the sentence that makes more sense), but it
      shouldn't be rejected outright since they may indeed have meant
      what they typed, even if it's not currently possible.
    </p>

    <h4> Action Resolution </h4>

    <p>
      Once the verbs have done appropriate preprocessing, the action
      object receives the mostly-parsed sentence structure.  Action
      structures are fully specific to your game, and so they can
      decode information like whether a particular noun is edible.
      That's useful so you can realize that &quot;take cake from oven
      and eat it&quot; probably means to eat the cake, not the oven.
      The 'eat' action will rate both as possible meanings, but the
      cake should score higher for appropriateness, and so it should
      be chosen in favor of trying to eat the oven.
    </p>

    <p>
      The actions should encode only things reasonably known to the
      player character.  For instance, if an object is poisonous but
      the character doesn't know that, the parser should treat it like
      any other edible object.  If a particular action will result in
      disaster but the player couldn't reasonably know, don't mark it
      as unlikely.  Players will find ways to cheat by referring to
      the action ambiguously.  On the other hand, if one possible
      interpretation is to stick a dagger into the character's own
      eye, the player probably didn't mean that.  At least, not if
      there's another choice.
    </p>

    <h4> Finally, Choosing an Action </h4>

    <p>
      There are now one or more possible interpretations of the
      player's input that Phantasmal has scrutinized, and it's merely
      a matter of deciding on which.  Based on appropriateness,
      grammar, likeliness to damage the character and other factors,
      ParseD will decide which interpretations are most likely.  If
      there is only one candidate, or only one credible candidate,
      that action will be taken.  If the obvious action is also
      dangerous, the player may be prompted to see if he <i>really</i>
      meant to type that.  If there are multiple good possibilities,
      the player may be prompted which he meant.
    </p>
            <address> 
            <span><a href="mailto:angelbob-remove-spamfree@spamfree.users.sf.net">Noah Gibbs</a></span> 
            </address></td> 
        </tr> 
      </table></td> 
  </tr> 
</table> 
</body>
</html>
